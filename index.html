<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Calculadora estequiométrica inteligente</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <div class="app-inner">

      <header class="header">
        <div class="title-block">
          <h1>Calculadora estequiométrica inteligente</h1>
        </div>
      </header>

      <main class="grid">

        <!-- SECCIÓN 1: REACCIÓN -->
        <section class="card">
          <div class="card-header">
            <h2 class="card-title">1 · Definir reacción</h2>
          </div>

          <!-- ⭐ INSTRUCCIONES DENTRO DE LA TARJETA 1 -->
          <p class="hint" style="margin-top:-4px; margin-bottom:12px;">
            Introduce los reactivos y productos de la reacción química.  
            La calculadora ajustará la ecuación y mostrará las masas molares.  
            Después podrás convertir la masa de una sustancia en la masa de otra usando factores de conversión.
          </p>

          <div class="reaction-grid">
            <div class="reaction-column">
              <h3 class="column-title">Reactivos</h3>

              <label class="field">
                <span class="field-label">Reactivo 1</span>
                <input id="r1" type="text" placeholder="Ej: H2, Fe2(SO4)3, C6H12O6..." />
              </label>

              <label class="field">
                <span class="field-label">Reactivo 2</span>
                <input id="r2" type="text" placeholder="Opcional" />
              </label>
            </div>

            <div class="reaction-arrow">→</div>

            <div class="reaction-column">
              <h3 class="column-title">Productos</h3>

              <label class="field">
                <span class="field-label">Producto 1</span>
                <input id="p1" type="text" placeholder="Ej: H2O, NaCl..." />
              </label>

              <label class="field">
                <span class="field-label">Producto 2</span>
                <input id="p2" type="text" placeholder="Opcional" />
              </label>
            </div>
          </div>

          <button id="btn-balance" class="btn-primary">
            Ajustar reacción y calcular masas molares
          </button>

          <p id="balance-error" class="error-msg"></p>

          <div id="balanced-info" class="balanced-info hidden">
            <div class="balanced-equation">
              <span class="section-label">Ecuación ajustada:</span>
              <span id="balanced-equation-text"></span>
            </div>

            <div class="molar-masses">
              <span class="section-label">Masas molares:</span>
              <ul id="molar-mass-list"></ul>
            </div>
          </div>

          <button id="reset-reaction" class="btn-reset">Reiniciar</button>
        </section>

        <!-- SECCIÓN 2: MASAS -->
        <section class="card">
          <div class="card-header">
            <h2 class="card-title">2 · Cálculo de masas</h2>
          </div>

          <p class="hint">
            Selecciona la sustancia de la que conoces la masa e introduce su valor.  
            Después elige la sustancia cuya masa quieres calcular.
          </p>

          <div class="field">
            <span class="field-label">Sustancia con masa conocida</span>
            <select id="known-species">
              <option value="">— Selecciona —</option>
            </select>
          </div>

          <div class="field">
            <span class="field-label">Masa conocida (g)</span>
            <input id="known-mass" type="number" min="0" step="any" placeholder="Ej: 5" />
          </div>

          <div class="field">
            <span class="field-label">Sustancia a calcular</span>
            <select id="target-species">
              <option value="">— Selecciona —</option>
            </select>
          </div>

          <button id="btn-calc" class="btn-secondary">
            Calcular masa
          </button>

          <p id="calc-error" class="error-msg"></p>

          <div id="result-box" class="result-box hidden">
            <p class="result-main">
              <span class="section-label">Resultado:</span>
              <span id="result-text"></span>
            </p>
            <p class="result-detail" id="result-detail"></p>
          </div>

          <button id="btn-show-conversion" class="btn-tertiary hidden">
            Mostrar conversión
          </button>

          <div id="conversion-box" class="result-box hidden">
            <p class="result-main">
              <span class="section-label">Conversión completa:</span>
            </p>
            <p id="conversion-text" class="result-detail mono"></p>
          </div>

          <button id="reset-mass" class="btn-reset">Reiniciar</button>
        </section>

      </main>

      <footer class="footer">
        <span>Autor: Samuel López Melián</span>
      </footer>

    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>